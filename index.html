<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Juggling Spoon Draw</title>
<style>
  body {
    font-family: sans-serif;
    text-align: center;
    background-color: #fdf6e3;
  }
  #character-container {
    position: relative;
    width: 200px;
    height: 300px;
    margin: 20px auto;
  }
  #character {
    width: 100%;
    height: auto;
    position: absolute;
    bottom: 0;
    left: 0;
  }
  .spoon {
    position: absolute;
    font-weight: bold;
    color: yellow;
    font-size: 20px;
    top: 50px;
    left: 80px;
  }
  .pots {
    display: flex;
    justify-content: center;
    margin: 20px;
    gap: 20px;
  }
  .pot {
    width: 80px;
    height: 80px;
    background-color: #c1440e;
    border-radius: 50%;
    color: white;
    line-height: 80px;
    font-weight: bold;
    font-size: 20px;
    cursor: pointer;
    position: relative;
  }
  #drawn {
    margin-top: 20px;
    font-size: 24px;
    color: #c1440e;
  }
</style>
</head>
<body>

<h1>Terra Rossa Spoon Juggling</h1>

<div id="character-container">
  <img id="character" src="uploaded_cartoon.png" alt="Cartoon Character">
</div>

<div class="pots">
  <div class="pot" id="A">A</div>
  <div class="pot" id="B">B</div>
  <div class="pot" id="C">C</div>
  <div class="pot" id="D">D</div>
</div>

<button onclick="drawSpoon()">Draw a Spoon</button>

<div id="drawn">Drawn Spoon: None</div>

<script>
const pots = {
  A: [1,2,3,4],
  B: [5,6,7,8],
  C: [9,10,11,12],
  D: [13,14,15,16]
};

function drawSpoon() {
  const potKeys = Object.keys(pots);
  const randomPot = potKeys[Math.floor(Math.random() * potKeys.length)];

  if (pots[randomPot].length === 0) {
    drawSpoon(); // retry if empty
    return;
  }

  const index = Math.floor(Math.random() * pots[randomPot].length);
  const spoon = pots[randomPot][index];
  pots[randomPot].splice(index, 1);

  document.getElementById('drawn').innerText = `Drawn Spoon: ${spoon} from Pot ${randomPot}`;

  animateJuggle(spoon);
}

function animateJuggle(spoon) {
  const container = document.getElementById('character-container');
  const spoonEl = document.createElement('div');
  spoonEl.className = 'spoon';
  spoonEl.innerText = spoon;
  container.appendChild(spoonEl);

  let angle = 0;
  const radius = 50;
  const centerX = 100;
  const centerY = 80;

  const interval = setInterval(() => {
    angle += 0.1;
    const x = centerX + radius * Math.cos(angle) - 10;
    const y = centerY - radius * Math.sin(angle);
    spoonEl.style.left = x + 'px';
    spoonEl.style.top = y + 'px';

    // Stop after 4 full rotations
    if (angle >= Math.PI * 8) {
      clearInterval(interval);
      container.removeChild(spoonEl);
    }
  }, 30);
}
</script>

</body>
</html>
